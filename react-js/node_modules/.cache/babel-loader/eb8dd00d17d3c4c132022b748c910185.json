{"ast":null,"code":"\"use strict\";\n\nvar ultimate_pagination_utils_1 = require(\"./ultimate-pagination-utils\");\nvar ultimate_pagination_item_factories_1 = require(\"./ultimate-pagination-item-factories\");\nfunction getPaginationModel(options) {\n  if (options == null) {\n    throw new Error('getPaginationModel(): options object should be a passed');\n  }\n  var totalPages = Number(options.totalPages);\n  if (isNaN(totalPages)) {\n    throw new Error('getPaginationModel(): totalPages should be a number');\n  }\n  if (totalPages < 0) {\n    throw new Error('getPaginationModel(): totalPages shouldn\\'t be a negative number');\n  }\n  var currentPage = Number(options.currentPage);\n  if (isNaN(currentPage)) {\n    throw new Error('getPaginationModel(): currentPage should be a number');\n  }\n  if (currentPage < 0) {\n    throw new Error('getPaginationModel(): currentPage shouldn\\'t be a negative number');\n  }\n  if (currentPage > totalPages) {\n    throw new Error('getPaginationModel(): currentPage shouldn\\'t be greater than totalPages');\n  }\n  var boundaryPagesRange = options.boundaryPagesRange == null ? 1 : Number(options.boundaryPagesRange);\n  if (isNaN(boundaryPagesRange)) {\n    throw new Error('getPaginationModel(): boundaryPagesRange should be a number');\n  }\n  if (boundaryPagesRange < 0) {\n    throw new Error('getPaginationModel(): boundaryPagesRange shouldn\\'t be a negative number');\n  }\n  var siblingPagesRange = options.siblingPagesRange == null ? 1 : Number(options.siblingPagesRange);\n  if (isNaN(siblingPagesRange)) {\n    throw new Error('getPaginationModel(): siblingPagesRange should be a number');\n  }\n  if (siblingPagesRange < 0) {\n    throw new Error('getPaginationModel(): siblingPagesRange shouldn\\'t be a negative number');\n  }\n  var hidePreviousAndNextPageLinks = Boolean(options.hidePreviousAndNextPageLinks);\n  var hideFirstAndLastPageLinks = Boolean(options.hideFirstAndLastPageLinks);\n  var hideEllipsis = Boolean(options.hideEllipsis);\n  var ellipsisSize = hideEllipsis ? 0 : 1;\n  var paginationModel = [];\n  var createPage = ultimate_pagination_item_factories_1.createPageFunctionFactory(options);\n  if (!hideFirstAndLastPageLinks) {\n    paginationModel.push(ultimate_pagination_item_factories_1.createFirstPageLink(options));\n  }\n  if (!hidePreviousAndNextPageLinks) {\n    paginationModel.push(ultimate_pagination_item_factories_1.createPreviousPageLink(options));\n  }\n  // Simplify generation of pages if number of available items is equal or greater than total pages to show\n  if (1 + 2 * ellipsisSize + 2 * siblingPagesRange + 2 * boundaryPagesRange >= totalPages) {\n    var allPages = ultimate_pagination_utils_1.createRange(1, totalPages).map(createPage);\n    paginationModel.push.apply(paginationModel, allPages);\n  } else {\n    // Calculate group of first pages\n    var firstPagesStart = 1;\n    var firstPagesEnd = boundaryPagesRange;\n    var firstPages = ultimate_pagination_utils_1.createRange(firstPagesStart, firstPagesEnd).map(createPage);\n    // Calculate group of last pages\n    var lastPagesStart = totalPages + 1 - boundaryPagesRange;\n    var lastPagesEnd = totalPages;\n    var lastPages = ultimate_pagination_utils_1.createRange(lastPagesStart, lastPagesEnd).map(createPage);\n    // Calculate group of main pages\n    var mainPagesStart = Math.min(Math.max(currentPage - siblingPagesRange, firstPagesEnd + ellipsisSize + 1), lastPagesStart - ellipsisSize - 2 * siblingPagesRange - 1);\n    var mainPagesEnd = mainPagesStart + 2 * siblingPagesRange;\n    var mainPages = ultimate_pagination_utils_1.createRange(mainPagesStart, mainPagesEnd).map(createPage);\n    // Add group of first pages\n    paginationModel.push.apply(paginationModel, firstPages);\n    if (!hideEllipsis) {\n      // Calculate and add ellipsis before group of main pages\n      var firstEllipsisPageNumber = mainPagesStart - 1;\n      var showPageInsteadOfFirstEllipsis = firstEllipsisPageNumber === firstPagesEnd + 1;\n      var createFirstEllipsisOrPage = showPageInsteadOfFirstEllipsis ? createPage : ultimate_pagination_item_factories_1.createFirstEllipsis;\n      var firstEllipsis = createFirstEllipsisOrPage(firstEllipsisPageNumber);\n      paginationModel.push(firstEllipsis);\n    }\n    // Add group of main pages\n    paginationModel.push.apply(paginationModel, mainPages);\n    if (!hideEllipsis) {\n      // Calculate and add ellipsis after group of main pages\n      var secondEllipsisPageNumber = mainPagesEnd + 1;\n      var showPageInsteadOfSecondEllipsis = secondEllipsisPageNumber === lastPagesStart - 1;\n      var createSecondEllipsisOrPage = showPageInsteadOfSecondEllipsis ? createPage : ultimate_pagination_item_factories_1.createSecondEllipsis;\n      var secondEllipsis = createSecondEllipsisOrPage(secondEllipsisPageNumber);\n      paginationModel.push(secondEllipsis);\n    }\n    // Add group of last pages\n    paginationModel.push.apply(paginationModel, lastPages);\n  }\n  if (!hidePreviousAndNextPageLinks) {\n    paginationModel.push(ultimate_pagination_item_factories_1.createNextPageLink(options));\n  }\n  if (!hideFirstAndLastPageLinks) {\n    paginationModel.push(ultimate_pagination_item_factories_1.createLastPageLink(options));\n  }\n  return paginationModel;\n}\nexports.getPaginationModel = getPaginationModel;\nvar ultimate_pagination_constants_1 = require(\"./ultimate-pagination-constants\");\nexports.ITEM_TYPES = ultimate_pagination_constants_1.ITEM_TYPES;\nexports.ITEM_KEYS = ultimate_pagination_constants_1.ITEM_KEYS;","map":{"version":3,"names":["ultimate_pagination_utils_1","require","ultimate_pagination_item_factories_1","getPaginationModel","options","Error","totalPages","Number","isNaN","currentPage","boundaryPagesRange","siblingPagesRange","hidePreviousAndNextPageLinks","Boolean","hideFirstAndLastPageLinks","hideEllipsis","ellipsisSize","paginationModel","createPage","createPageFunctionFactory","push","createFirstPageLink","createPreviousPageLink","allPages","createRange","map","apply","firstPagesStart","firstPagesEnd","firstPages","lastPagesStart","lastPagesEnd","lastPages","mainPagesStart","Math","min","max","mainPagesEnd","mainPages","firstEllipsisPageNumber","showPageInsteadOfFirstEllipsis","createFirstEllipsisOrPage","createFirstEllipsis","firstEllipsis","secondEllipsisPageNumber","showPageInsteadOfSecondEllipsis","createSecondEllipsisOrPage","createSecondEllipsis","secondEllipsis","createNextPageLink","createLastPageLink","exports","ultimate_pagination_constants_1","ITEM_TYPES","ITEM_KEYS"],"sources":["../src/ultimate-pagination.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}